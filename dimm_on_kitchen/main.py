import ubinasciiimport timeimport machineimport jsonimport networkfrom connect import Connectfrom mqtt import Mqttconfig = json.loads(open('config.json').read())client_id = ubinascii.hexlify(machine.unique_id())try:    temp = Mqtt(client_id, config['broker_ip'], topic='esp/temp')    hum = Mqtt(client_id, config['broker_ip'], topic='esp/hum')except:    temp = False    hum = Falsewhile True:    # Connect to wifi    if network.WLAN(network.STA_IF).ifconfig()[0] == '0.0.0.0':        try:            Connect.connect()            print('IP is: ' + network.WLAN(network.STA_IF).ifconfig()[0])        except:            pass    try:        if not temp:            try:                temp = Mqtt(client_id, config['broker_ip'], topic='esp/temp')                hum = Mqtt(client_id, config['broker_ip'], topic='esp/hum')            except:                temp = False                hum = False        if temp:            try:                temp.publish(dht.read_temp_and_hum()[0])                hum.publish(dht.read_temp_and_hum()[1])            except:                temp = False            publish_msg = 'Pub ok'        else:            publish_msg = 'Not pub'        lcd.text('temp: ' + str(dht.read_temp_and_hum()[0]),                 'hum: ' + str(dht.read_temp_and_hum()[1]),                 '=============',                 publish_msg)        led.blink(2, 0.1)    except:        pass    time.sleep(5)