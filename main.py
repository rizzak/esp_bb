import ubinasciiimport timeimport machineimport jsonfrom connect import Connectfrom blink import Blinkfrom lcd import Lcdfrom temperature_dht11 import TemperatureSensor as Dhtfrom mqtt import Mqttdht = Dht(4)led = Blink(16)lcd = Lcd(spi=1, cs=2, dc=15, rst=0, bl=12)config = json.loads(open('config.json').read())client_id = ubinascii.hexlify(machine.unique_id())try:    mqtt = Mqtt(client_id, config['broker_ip'])except:    mqtt = Falsewhile True:    # Connect to wifi    Connect.check_and_reconnect()    try:        data = {'temperature': dht.read_temp_and_hum()[0], 'humidity': dht.read_temp_and_hum()[1]}        print(str(time.localtime()) + ' ' + str(data))        if not mqtt:            try:                mqtt = Mqtt(client_id, config['broker_ip'])            except:                mqtt = False        if mqtt:            try:                mqtt.publish(data, topic='esp/tempandhum')            except:                mqtt = False            publish_msg = 'Pub ok'        else:            publish_msg = 'Not pub'        lcd.text('temp: ' + str(data['temperature']),                 'hum: ' + str(data['humidity']),                 '=============',                 publish_msg)        led.blink(2, 0.1)    except:        pass    time.sleep(5)