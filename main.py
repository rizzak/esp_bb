import ubinasciiimport timeimport machineimport jsonimport networkfrom blink import Blinkfrom lcd import Lcdfrom temperature_dht11 import TemperatureSensor as Dhtfrom mqtt import Mqttsta_if = network.WLAN(network.STA_IF)config = json.loads(open('config.json').read())client_id = ubinascii.hexlify(machine.unique_id())dht = Dht(4)led = Blink(16)lcd = Lcd(spi=1, cs=2, dc=15, rst=0, bl=12)try:    temp = Mqtt(client_id, config['broker_ip'], topic='esp/temp')    hum = Mqtt(client_id, config['broker_ip'], topic='esp/hum')except:    temp = False    hum = Falsewhile True:    try:        print(str(time.localtime()) + ' | temp: ' + str(dht.read_temp_and_hum()[0]) +              ' | hum: ' + str(dht.read_temp_and_hum()[1]))        if not temp:            try:                temp = Mqtt(client_id, config['broker_ip'], topic='esp/temp')                hum = Mqtt(client_id, config['broker_ip'], topic='esp/hum')            except:                temp = False                hum = False        if temp:            temp.publish(dht.read_temp_and_hum()[0])            hum.publish(dht.read_temp_and_hum()[1])            publish_msg = 'Pub ok'        else:            publish_msg = 'Not pub'        lcd.text('temp: ' + str(dht.read_temp_and_hum()[0]),                 'hum: ' + str(dht.read_temp_and_hum()[1]),                 '=============',                 publish_msg)        led.blink(2, 0.1)    except:        pass    time.sleep(5)